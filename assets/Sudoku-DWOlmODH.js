import{i as b,r as m,u as $,j as c,p as k}from"./main-68V3DtNJ.js";function w(o,s){const r=b(o),n=s?b(s):null,[d,i]=m.useState(n??r);return{grid:d,setCellValue:(l,a,e)=>{i(u=>u.map((t,x)=>t.map((f,h)=>x===l&&h===a?e:f)))},initialGrid:r,isInitial:(l,a,e)=>r[l][a]!==0&&r[l][a]===e}}function y(o){const s=$();return r=>{const n=s.buildLocation({to:"/tanstack-sudoku/sudoku/$sudokuId/$sudokuProgress",params:{sudokuId:o,sudokuProgress:r}}).pathname;s.history.replace(n)}}const I=({rowIndex:o,colIndex:s,value:r,onChange:n,isDisabled:d,onFocus:i})=>c.jsx("input",{className:`w-8 h-8 text-xl sm:w-12 sm:h-12 md:w-16 md:h-16 lg:w-24 lg:h-24 sm:text-2xl md:text-4xl lg:text-6xl box-border text-center border-2 font-bold border-gray-500 ${d&&"bg-gray-300"}`,id:`${o}${s}`,type:"text",inputMode:"numeric",autoComplete:"off",disabled:d,maxLength:1,value:r,onChange:n,onFocus:i}),v=({sudokuId:o,sudokuProgress:s})=>{const{grid:r,setCellValue:n,isInitial:d}=w(o,s),i=y(o),[g,p]=m.useState();m.useEffect(()=>{i(k(r))},[r]);const l=(a,e,u)=>{const t=a.target.value;t.length>1||!/^[0-9]?$/.test(t)||n(e,u,Number(t))};return c.jsx("div",{id:"tanstack-sudoku",className:"inline-flex flex-col",children:r.map((a,e)=>c.jsx("div",{className:`flex flex-row w-auto ${e%3===0?"border-t-2 border-t-gray-300 ":""}${e%3===2?"border-b-2 border-b-gray-300 ":""}`,children:a.map((u,t)=>c.jsx("div",{className:`${t%3===0?"border-l-2 border-l-gray-300 ":""}${t%3===2?"border-r-2 border-r-gray-300 ":""}`,children:c.jsx(I,{rowIndex:e,colIndex:t,value:u===0?"":u.toString(),onChange:x=>l(x,e,t),onFocus:()=>{p({rowIndex:e,colIndex:t})},isDisabled:d(e,t,u)})},`${e}${t}`))},e))})};export{v as S};
