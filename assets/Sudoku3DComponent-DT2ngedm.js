import{x as D,r as u,a as me,b as he,j as i,c as pe,e as ge,P as $,u as V,f as xe,y as ve,g as I}from"./main-DpwPLBJD.js";import{B as X}from"./button-CFIEdQ3n.js";import{c as E}from"./index-DW48STyt.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]],Se=D("microscope",be);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M11 19H5v-6",key:"8awifj"}],["path",{d:"M13 5h6v6",key:"7voy1q"}],["path",{d:"M19 5 5 19",key:"wwaj1z"}]],we=D("move-diagonal",ye);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]],je=D("move-horizontal",ke);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Re=D("move-left",Me);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],_e=D("move-right",Ce);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]],Ee=D("move-vertical",Pe);function W(e,[t,o]){return Math.min(o,Math.max(t,e))}function De(e){const[t,o]=u.useState(void 0);return me(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(l=>{if(!Array.isArray(l)||!l.length)return;const d=l[0];let s,r;if("borderBoxSize"in d){const a=d.borderBoxSize,h=Array.isArray(a)?a[0]:a;s=h.inlineSize,r=h.blockSize}else s=e.offsetWidth,r=e.offsetHeight;o({width:s,height:r})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else o(void 0)},[e]),t}var Z=["PageUp","PageDown"],q=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},z="Slider",[L,Ve,ze]=ge(z),[Q,tt]=pe(z,[ze]),[Ne,H]=Q(z),ee=u.forwardRef((e,t)=>{const{name:o,min:n=0,max:l=100,step:d=1,orientation:s="horizontal",disabled:r=!1,minStepsBetweenThumbs:a=0,defaultValue:h=[n],value:g,onValueChange:c=()=>{},onValueCommit:p=()=>{},inverted:b=!1,form:y,...S}=e,v=u.useRef(new Set),x=u.useRef(0),f=s==="horizontal"?Ae:Be,[m=[],k]=he({prop:g,defaultProp:h,onChange:w=>{var _;(_=[...v.current][x.current])==null||_.focus(),c(w)}}),j=u.useRef(m);function N(w){const R=Ie(m,w);A(w,R)}function ue(w){A(w,x.current)}function fe(){const w=j.current[x.current];m[x.current]!==w&&p(m)}function A(w,R,{commit:_}={commit:!1}){const Y=Ue(d),K=Ye(Math.round((w-n)/d)*d+n,Y),B=W(K,[n,l]);k((P=[])=>{const C=He(P,B,R);if(Oe(C,a*d)){x.current=C.indexOf(B);const G=String(C)!==String(P);return G&&_&&p(C),G?C:P}else return P})}return i.jsx(Ne,{scope:e.__scopeSlider,name:o,disabled:r,min:n,max:l,valueIndexToChangeRef:x,thumbs:v.current,values:m,orientation:s,form:y,children:i.jsx(L.Provider,{scope:e.__scopeSlider,children:i.jsx(L.Slot,{scope:e.__scopeSlider,children:i.jsx(f,{"aria-disabled":r,"data-disabled":r?"":void 0,...S,ref:t,onPointerDown:E(S.onPointerDown,()=>{r||(j.current=m)}),min:n,max:l,inverted:b,onSlideStart:r?void 0:N,onSlideMove:r?void 0:ue,onSlideEnd:r?void 0:fe,onHomeKeyDown:()=>!r&&A(n,0,{commit:!0}),onEndKeyDown:()=>!r&&A(l,m.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:R})=>{if(!r){const K=Z.includes(w.key)||w.shiftKey&&q.includes(w.key)?10:1,B=x.current,P=m[B],C=d*K*R;A(P+C,B,{commit:!0})}}})})})})});ee.displayName=z;var[te,oe]=Q(z,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ae=u.forwardRef((e,t)=>{const{min:o,max:n,dir:l,inverted:d,onSlideStart:s,onSlideMove:r,onSlideEnd:a,onStepKeyDown:h,...g}=e,[c,p]=u.useState(null),b=V(t,f=>p(f)),y=u.useRef(void 0),S=xe(l),v=S==="ltr",x=v&&!d||!v&&d;function M(f){const m=y.current||c.getBoundingClientRect(),k=[0,m.width],N=U(k,x?[o,n]:[n,o]);return y.current=m,N(f-m.left)}return i.jsx(te,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:i.jsx(ne,{dir:S,"data-orientation":"horizontal",...g,ref:b,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const m=M(f.clientX);s==null||s(m)},onSlideMove:f=>{const m=M(f.clientX);r==null||r(m)},onSlideEnd:()=>{y.current=void 0,a==null||a()},onStepKeyDown:f=>{const k=J[x?"from-left":"from-right"].includes(f.key);h==null||h({event:f,direction:k?-1:1})}})})}),Be=u.forwardRef((e,t)=>{const{min:o,max:n,inverted:l,onSlideStart:d,onSlideMove:s,onSlideEnd:r,onStepKeyDown:a,...h}=e,g=u.useRef(null),c=V(t,g),p=u.useRef(void 0),b=!l;function y(S){const v=p.current||g.current.getBoundingClientRect(),x=[0,v.height],f=U(x,b?[n,o]:[o,n]);return p.current=v,f(S-v.top)}return i.jsx(te,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:i.jsx(ne,{"data-orientation":"vertical",...h,ref:c,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const v=y(S.clientY);d==null||d(v)},onSlideMove:S=>{const v=y(S.clientY);s==null||s(v)},onSlideEnd:()=>{p.current=void 0,r==null||r()},onStepKeyDown:S=>{const x=J[b?"from-bottom":"from-top"].includes(S.key);a==null||a({event:S,direction:x?-1:1})}})})}),ne=u.forwardRef((e,t)=>{const{__scopeSlider:o,onSlideStart:n,onSlideMove:l,onSlideEnd:d,onHomeKeyDown:s,onEndKeyDown:r,onStepKeyDown:a,...h}=e,g=H(z,o);return i.jsx($.span,{...h,ref:t,onKeyDown:E(e.onKeyDown,c=>{c.key==="Home"?(s(c),c.preventDefault()):c.key==="End"?(r(c),c.preventDefault()):Z.concat(q).includes(c.key)&&(a(c),c.preventDefault())}),onPointerDown:E(e.onPointerDown,c=>{const p=c.target;p.setPointerCapture(c.pointerId),c.preventDefault(),g.thumbs.has(p)?p.focus():n(c)}),onPointerMove:E(e.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&l(c)}),onPointerUp:E(e.onPointerUp,c=>{const p=c.target;p.hasPointerCapture(c.pointerId)&&(p.releasePointerCapture(c.pointerId),d(c))})})}),re="SliderTrack",se=u.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,l=H(re,o);return i.jsx($.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...n,ref:t})});se.displayName=re;var F="SliderRange",ae=u.forwardRef((e,t)=>{const{__scopeSlider:o,...n}=e,l=H(F,o),d=oe(F,o),s=u.useRef(null),r=V(t,s),a=l.values.length,h=l.values.map(p=>ce(p,l.min,l.max)),g=a>1?Math.min(...h):0,c=100-Math.max(...h);return i.jsx($.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...n,ref:r,style:{...e.style,[d.startEdge]:g+"%",[d.endEdge]:c+"%"}})});ae.displayName=F;var O="SliderThumb",ie=u.forwardRef((e,t)=>{const o=Ve(e.__scopeSlider),[n,l]=u.useState(null),d=V(t,r=>l(r)),s=u.useMemo(()=>n?o().findIndex(r=>r.ref.current===n):-1,[o,n]);return i.jsx($e,{...e,ref:d,index:s})}),$e=u.forwardRef((e,t)=>{const{__scopeSlider:o,index:n,name:l,...d}=e,s=H(O,o),r=oe(O,o),[a,h]=u.useState(null),g=V(t,M=>h(M)),c=a?s.form||!!a.closest("form"):!0,p=De(a),b=s.values[n],y=b===void 0?0:ce(b,s.min,s.max),S=Ke(n,s.values.length),v=p==null?void 0:p[r.size],x=v?Le(v,y,r.direction):0;return u.useEffect(()=>{if(a)return s.thumbs.add(a),()=>{s.thumbs.delete(a)}},[a,s.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[r.startEdge]:`calc(${y}% + ${x}px)`},children:[i.jsx(L.ItemSlot,{scope:e.__scopeSlider,children:i.jsx($.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":s.min,"aria-valuenow":b,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...d,ref:g,style:b===void 0?{display:"none"}:e.style,onFocus:E(e.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),c&&i.jsx(le,{name:l??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:b},n)]})});ie.displayName=O;var Te="RadioBubbleInput",le=u.forwardRef(({__scopeSlider:e,value:t,...o},n)=>{const l=u.useRef(null),d=V(l,n),s=ve(t);return u.useEffect(()=>{const r=l.current;if(!r)return;const a=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==t&&g){const c=new Event("input",{bubbles:!0});g.call(r,t),r.dispatchEvent(c)}},[s,t]),i.jsx($.input,{style:{display:"none"},...o,ref:d,defaultValue:t})});le.displayName=Te;function He(e=[],t,o){const n=[...e];return n[o]=t,n.sort((l,d)=>l-d)}function ce(e,t,o){const d=100/(o-t)*(e-t);return W(d,[0,100])}function Ke(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ie(e,t){if(e.length===1)return 0;const o=e.map(l=>Math.abs(l-t)),n=Math.min(...o);return o.indexOf(n)}function Le(e,t,o){const n=e/2,d=U([0,50],[0,n]);return(n-d(t)*o)*o}function Fe(e){return e.slice(0,-1).map((t,o)=>e[o+1]-t)}function Oe(e,t){if(t>0){const o=Fe(e);return Math.min(...o)>=t}return!0}function U(e,t){return o=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(o-e[0])}}function Ue(e){return(String(e).split(".")[1]||"").length}function Ye(e,t){const o=Math.pow(10,t);return Math.round(e*o)/o}var Ge=ee,Xe=se,We=ae,Ze=ie;function T({className:e,defaultValue:t,value:o,min:n=0,max:l=100,...d}){const s=u.useMemo(()=>Array.isArray(o)?o:Array.isArray(t)?t:[n,l],[o,t,n,l]);return i.jsxs(Ge,{"data-slot":"slider",defaultValue:t,value:o,min:n,max:l,className:I("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...d,children:[i.jsx(Xe,{"data-slot":"slider-track",className:I("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:i.jsx(We,{"data-slot":"slider-range",className:I("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:s.length},(r,a)=>i.jsx(Ze,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}function de(e){const[t,o]=u.useState(()=>e.map(r=>r.map(a=>[...a]))),n=u.useMemo(()=>e.map(r=>r.map(a=>[...a])),[e]),l=u.useCallback((r,a,h,g)=>{o(c=>{const p=c.map(b=>b.map(y=>[...y]));return p[r][a][h]=g,p})},[]),d=u.useCallback((r,a,h)=>n[r][a][h]!==0,[n]),s=u.useCallback(()=>{o(n.map(r=>r.map(a=>[...a])))},[n]);return{initialGrid:n,currentGrid:t,setCellValue:l,isInitial:d,resetGrid:s}}const qe=u.forwardRef(({face:e,faceIndex:t,setValue:o,initialGrid:n},l)=>{const{isInitial:d}=de(n),s=(r,a,h,g)=>{const c=r.target.value;c.length>1||!/^[0-9]?$/.test(c)||o(a,h,g,Number(r.target.value))};return i.jsx("div",{ref:l,className:"flex flex-col face",children:e.map((r,a)=>i.jsx("div",{className:"flex flex-row border border-sudoku-border",children:r.map((h,g)=>i.jsx("div",{className:`p-2 m-2 font-bold font-lg border border-sudoku-border ${d(t,a,g)&&"bg-sudoku-background-3d"}`,children:i.jsx("input",{className:"w-8 h-8 text-center text-2xl hover:shadow-lg ",type:"text",pattern:"[0-9]*",inputMode:"numeric",autoComplete:"off",disabled:d(t,a,g),maxLength:1,onChange:c=>{s(c,t,a,g)},value:h===0?"":h})},`y-${t}${a}${g}`))},`x-${t}${a}`))})}),ot=({N:e,threeDGrid:t})=>{const{currentGrid:o,setCellValue:n}=de(t),l=[...Array(e).keys()],d=u.useRef([]),[s,r]=u.useState(0),[a,h]=u.useState(15),[g,c]=u.useState(30),[p,b]=u.useState(5),[y,S]=u.useState(50);u.useEffect(()=>{d.current.forEach((f,m)=>{const k=m-s,j=k<0?l.length+k:k,N=j===0?1:j===1?y/100:Math.pow(y*.8/100,j);f.style.transform=`translateZ(${-j*p*2}rem)`,f.style.opacity=N.toString(),f.style.zIndex=(d.current.length-j).toString()})},[o,s,l.length,y,p]);const v=u.useCallback((f,m,k,j)=>{n(f,m,k,j)},[n]),x=u.useMemo(()=>i.jsx(i.Fragment,{children:o.map((f,m)=>i.jsx(qe,{ref:k=>{d.current[m]=k},face:f,faceIndex:m,setValue:v,initialGrid:t},`z-${f}${m}`))}),[o,v]),M=f=>{r(f?m=>m===e-1?0:m+1:m=>m===0?e-1:m-1)};return i.jsxs("div",{className:"flex flex-col w-full h-full justify-center items-center",children:[i.jsx("div",{className:"sudoku-cube-wrapper",style:{width:`${(e+1)*5}rem`,height:`${(e+1)*5}rem`,position:"relative"},children:i.jsx("div",{className:"sudoku-container flex flex-col justify-center",style:{transform:`rotateX(${-1*a}deg) rotateY(${-1*g}deg)`,transformStyle:"preserve-3d",transition:"transform 0.3s"},children:x})}),i.jsxs("div",{className:"flex flex-col gap-2 w-64 z-50",children:[i.jsxs("div",{className:"flex flex-row font-bold font-lg justify-center gap-2",children:[i.jsx(X,{onClick:()=>M(!1),children:i.jsx(Re,{})}),i.jsx(X,{onClick:()=>M(!0),children:i.jsx(_e,{})})]}),i.jsxs("label",{className:"flex gap-2",children:[i.jsx(Ee,{}),i.jsx(T,{min:0,defaultValue:[15],max:45,step:1,onValueChange:f=>h(f[0])})]}),i.jsxs("label",{className:"flex gap-2",children:[i.jsx(je,{}),i.jsx(T,{min:0,defaultValue:[30],max:45,step:1,onValueChange:f=>c(f[0])})]}),i.jsxs("label",{className:"flex gap-2",children:[i.jsx(we,{}),i.jsx(T,{min:0,defaultValue:[5],max:10,step:1,onValueChange:f=>b(f[0])})]}),i.jsxs("label",{className:"flex gap-2",children:[i.jsx(Se,{}),i.jsx(T,{min:0,defaultValue:[50],max:100,step:1,onValueChange:f=>S(f[0])})]})]})]})};export{ot as S};
