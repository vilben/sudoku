import{i as b,r as m,u as $,j as c,p as w}from"./main-kj8aGOxW.js";function y(s,o){const r=b(s),a=o?b(o):null,[d,i]=m.useState(a??r);return{grid:d,setCellValue:(l,n,e)=>{i(u=>u.map((t,x)=>t.map((f,h)=>x===l&&h===n?e:f)))},initialGrid:r,isInitial:(l,n,e)=>r[l][n]!==0&&r[l][n]===e}}function I(s){const o=$();return r=>{const a=o.buildLocation({to:"/sudoku/$sudokuId/$sudokuProgress",params:{sudokuId:s,sudokuProgress:r}}).pathname;o.history.replace(a)}}const S=({rowIndex:s,colIndex:o,value:r,onChange:a,isDisabled:d,onFocus:i})=>c.jsx("input",{className:`w-8 h-8 text-xl sm:w-12 sm:h-12 md:w-16 md:h-16 lg:w-24 lg:h-24 sm:text-2xl md:text-4xl lg:text-6xl box-border text-center border-2 font-bold border-gray-500 ${d&&"bg-gray-300"}`,id:`${s}${o}`,type:"text",inputMode:"numeric",autoComplete:"off",disabled:d,maxLength:1,value:r,onChange:a,onFocus:i}),C=({sudokuId:s,sudokuProgress:o})=>{const{grid:r,setCellValue:a,isInitial:d}=y(s,o),i=I(s),[g,p]=m.useState();m.useEffect(()=>{i(w(r))},[r]);const l=(n,e,u)=>{const t=n.target.value;t.length>1||!/^[0-9]?$/.test(t)||a(e,u,Number(t))};return c.jsx("div",{id:"sudoku",className:"inline-flex flex-col",children:r.map((n,e)=>c.jsx("div",{className:`flex flex-row w-auto ${e%3===0?"border-t-2 border-t-gray-300 ":""}${e%3===2?"border-b-2 border-b-gray-300 ":""}`,children:n.map((u,t)=>c.jsx("div",{className:`${t%3===0?"border-l-2 border-l-gray-300 ":""}${t%3===2?"border-r-2 border-r-gray-300 ":""}`,children:c.jsx(S,{rowIndex:e,colIndex:t,value:u===0?"":u.toString(),onChange:x=>l(x,e,t),onFocus:()=>{p({rowIndex:e,colIndex:t})},isDisabled:d(e,t,u)})},`${e}${t}`))},e))})};export{C as S};
